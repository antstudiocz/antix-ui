---
description: Pokyny pro Git workflow a konvence commitÅ¯
globs: 
alwaysApply: false
---
# Antix UI - Git Workflow ğŸŒ³

## VÄ›tvenÃ­ a sprÃ¡va repozitÃ¡Å™e

### HlavnÃ­ vÄ›tve
- **main** - ProdukÄnÃ­ kÃ³d
  - VÅ¾dy stabilnÃ­, pÅ™ipravenÃ½ k nasazenÃ­
  - ChrÃ¡nÄ›nÃ¡ vÄ›tev, vyÅ¾aduje code review
  - OznaÄenÃ¡ verzemi (tagy)

- **development** - VÃ½vojovÃ¡ vÄ›tev
  - IntegraÄnÃ­ vÄ›tev pro feature vÄ›tve
  - Po stabilizaci se merguje do main

### Feature vÄ›tve
- VÅ¾dy vytvÃ¡Å™et z development vÄ›tve
- PojmenovÃ¡nÃ­: `feature/*`, `fix/*`, `docs/*`, `refactor/*`, `test/*`
- Po dokonÄenÃ­ mergovat zpÄ›t do development

## Commit konvence

### FormÃ¡t commit zprÃ¡vy
```
<typ>(<oblast>): <emotikona> <struÄnÃ½ popis>
```

### Typy zmÄ›n
- `feat`: NovÃ¡ funkcionalita
- `fix`: Oprava chyby
- `docs`: ZmÄ›ny v dokumentaci
- `style`: ZmÄ›ny stylÅ¯ a formÃ¡tovÃ¡nÃ­
- `refactor`: Refaktorizace existujÃ­cÃ­ho kÃ³du
- `test`: PÅ™idÃ¡nÃ­ nebo Ãºprava testÅ¯
- `chore`: Ãškoly ÃºdrÅ¾by (build systÃ©m, dependence)

### Emotikony
- âœ¨ NovÃ¡ funkcionalita
- ğŸ› Oprava chyby
- ğŸ“š Dokumentace
- ğŸ¨ StylovÃ¡nÃ­/UI
- ğŸ”„ Refaktorizace
- âœ… Testy
- ğŸ”§ Konfigurace

## DÅ®LEÅ½ITÃ‰: RELEASE PROCES

### PÅ™Ã­prava zmÄ›n v development
1. **Squash commitÅ¯ pÅ™ed mergem do main**
```bash
# Zjistit vÅ¡echny commity od poslednÃ­ synchronizace s main
git log --oneline main..development

# VytvoÅ™it soubor s detailnÃ­m commit message
echo "typ(oblast): ğŸ¨ HlavnÃ­ nadpis zmÄ›n

âœ¨ PrvnÃ­ popis zmÄ›ny
ğŸ› DruhÃ½ popis zmÄ›ny
ğŸ“š TÅ™etÃ­ popis zmÄ›ny" > commit-message.txt

# Squash poslednÃ­ch X commitÅ¯
git reset --soft HEAD~X  # X nahraÄte poÄtem commitÅ¯

# Commit s detailnÃ­m popisem
git commit -F commit-message.txt

# Smazat doÄasnÃ½ soubor
rm commit-message.txt

# Push na origin se -f (force) - POUZE pro development!
git push -f origin development
```

### Merge a release
```bash
# 1. PÅ™epnout na main a aktualizovat
git checkout main
git pull origin main

# 2. Merge development do main (uÅ¾ squashnutÃ½)
git merge development

# 3. DÅ®LEÅ½ITÃ‰: NynÃ­ provÃ©st release
#    - NIKDY nepushovat zmÄ›ny do main bez release!
#    - Release skript automaticky pushne zmÄ›ny!
npm run release:patch  # nebo :minor, :major

# 4. Synchronizovat development s main
git checkout development
git fetch origin
git reset --hard origin/main
git push -f origin development
```

## Pravidla pro kvalitnÃ­ commit message

### KrÃ¡tkÃ½ commit
```
feat(Button): âœ¨ PÅ™idÃ¡na novÃ¡ varianta tlaÄÃ­tka
```

### DetailnÃ­ commit (vÅ¾dy pouÅ¾Ã­vat pro merge do main)
```
feat(Button): âœ¨ PÅ™idÃ¡na novÃ¡ varianta tlaÄÃ­tka

âœ¨ Implementace outline varianty tlaÄÃ­tka
ğŸ¨ VylepÅ¡eno stylovÃ¡nÃ­ pro rÅ¯znÃ© velikosti
ğŸ“š Aktualizace dokumentace a pÅ™Ã­kladÅ¯
âœ… PÅ™idÃ¡ny testy pro novou variantu
```

## Checklist pÅ™ed releasem

- [ ] Proveden squash commitÅ¯ s detailnÃ­m popisem
- [ ] VÅ¡echny testy prochÃ¡zejÃ­ (`npm test`)
- [ ] Build projektu je funkÄnÃ­ (`npm run build`)
- [ ] Verze je vhodnÄ› zvolena podle typu zmÄ›n

## Checklist po releasu

- [ ] Tag byl ÃºspÄ›Å¡nÄ› vytvoÅ™en
- [ ] GitHub release byl vytvoÅ™en
- [ ] Development vÄ›tev je synchronizovÃ¡na s main
- [ ] NPM balÃ­Äek byl publikovÃ¡n

## Å˜eÅ¡enÃ­ bÄ›Å¾nÃ½ch problÃ©mÅ¯

### Aktualizace snapshotÅ¯
```bash
npm test -- -u
git add '**/*.snap'
git commit --amend --no-edit  # PÅ™idÃ¡ snapshoty do poslednÃ­ho commitu
```

### Synchronizace development s main
```bash
git checkout development
git fetch origin
git reset --hard origin/main
git push -f origin development
```